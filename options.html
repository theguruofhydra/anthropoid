<!DOCTYPE html>
<!--
  AnthropoÃ¯d - Extension Firefox pour analyse de contenu avec Claude AI
  Copyright (c) 2025 theguruofhydra
  Licensed under MIT License
  https://github.com/theguruofhydra/anthropoid
-->
<html>
  <head>
    <meta charset="utf-8" />
    <title data-i18n="optionsTitle">Options - AnthropoÃ¯d</title>
    <link rel="stylesheet" href="themes.css" />
    <link rel="stylesheet" href="styles-options.css" />
  </head>
  <body>
    <div class="container">
      <h1 data-i18n="optionsTitle">Configuration de l'extension ğŸ‘†</h1>

      <div class="info-box">
        <strong data-i18n="configurationRequired"
          >ğŸ” Configuration requise</strong
          <span></span>
        <br /><br />
        <strong data-i18n="claudeApiKeyLabel">1. ClÃ© API Claude :</strong><br />
        <span data-i18n="claudeApiKeyDescription"
          >Rendez-vous sur
          <a href="https://console.anthropic.com/" target="_blank"
            >console.anthropic.com</a
          >, crÃ©ez un compte et gÃ©nÃ©rez une clÃ© API</span
        >
        <br /><br />
        <strong data-i18n="pipedApiUrlLabel"
          >2. URL API Piped (optionnel pour YouTube):</strong
        ><br />
        <span data-i18n="pipedApiUrlDescription"
          >L'URL de l'API de votre instance Piped prÃ©fÃ©rÃ©e (optionnel pour
          YouTube, ex: https://pipedapi.kavin.rocks)</span
        >
      </div>

      <form id="optionsForm">
        <div class="form-group">
          <label for="claudeApiKey" data-i18n="claudeApiKeyField"
            >ClÃ© API Claude:</label
          >
          <div class="field-with-test">
            <div class="field-content">
              <input
                type="password"
                id="claudeApiKey"
                placeholder="sk-ant-api03-..."
              />
              <div
                class="api-key-status"
                id="apiKeyStatus"
                data-i18n="apiKeyNotConfigured"
              >
                Non configurÃ©e
              </div>
              <div class="help-text" data-i18n="claudeApiKeyHelp">
                Votre clÃ© API est stockÃ©e localement
              </div>
            </div>
            <button
              type="button"
              id="testApiBtn"
              class="secondary-btn test-btn"
              data-i18n="testClaudeApi"
            >
              ğŸ§ª Test
            </button>
          </div>
          <div id="claudeTestResult" class="test-result"></div>
        </div>

        <div class="form-group">
          <label for="pipedApiUrl" data-i18n="pipedApiUrlField"
            >URL de l'API Piped:</label
          >
          <div class="field-with-test">
            <div class="field-content">
              <input
                type="text"
                id="pipedApiUrl"
                data-i18n-placeholder="pipedApiUrlPlaceholder"
                placeholder="https://votre-instance-piped.com/api"
              />
              <div
                class="api-url-status"
                id="apiUrlStatus"
                data-i18n="pipedapiNotConfigured"
              >
                Non configurÃ©e
              </div>
              <div class="help-text" data-i18n="pipedApiUrlHelp">
                URL de l'API de votre instance Piped prÃ©fÃ©rÃ©e. Optionnel pour
                YouTube. Exemples : https://pipedapi.kavin.rocks
              </div>
            </div>
            <button
              type="button"
              id="testPipedBtn"
              class="secondary-btn test-btn"
              data-i18n="testPipedApi"
            >
              ğŸ”— Test
            </button>
          </div>
          <div id="pipedTestResult" class="test-result"></div>
        </div>

        <div class="form-group">
          <label for="claudeModel" data-i18n="claudeModelDefault"
            >ModÃ¨le Claude par dÃ©faut:</label
          >
          <div class="field-with-test">
            <div class="field-content">
              <select id="claudeModel">
                <!-- Les options seront peuplÃ©es dynamiquement par le Model Manager -->
              </select>
              <div class="help-text" data-i18n="modelSelectionHelp">
                Les modÃ¨les sont automatiquement dÃ©tectÃ©s depuis l'API Anthropic
              </div>
            </div>
            <button
              type="button"
              id="updateModelsBtn"
              class="secondary-btn test-btn"
            >
              ğŸ”„ Mise Ã  jour
            </button>
          </div>
        </div>

        <div class="form-group">
          <label for="themeSelect" data-i18n="themeLabel">ThÃ¨me :</label>
          <select id="themeSelect">
            <option value="auto" data-i18n="themeAuto">Auto (suit Firefox)</option>
            <option value="light" data-i18n="themeLight">Clair</option>
            <option value="dark" data-i18n="themeDark">Sombre</option>
          </select>
          <div class="help-text" data-i18n="themeHelp">
            Le mode Auto suit automatiquement le thÃ¨me de Firefox
          </div>
        </div>

        <div class="form-group">
            <label for="summaryLanguage" data-i18n="summaryLanguageDefault"
              >Langue de rÃ©ponse par dÃ©faut:</label
            >
            <select id="summaryLanguage">
              <option value="fr" data-i18n="french">FranÃ§ais</option>
              <option value="en" data-i18n="english">English</option>
              <option value="es" data-i18n="spanish">EspaÃ±ol</option>
              <option value="de" data-i18n="german">Deutsch</option>
              <option value="it" data-i18n="italian">Italiano</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="defaultAnalysisType" data-i18n="defaultAnalysisTypeLabel"
              >Type d'analyse par dÃ©faut:</label
            >
            <select id="defaultAnalysisType">
              <option value="summary" data-i18n="analysisTypeSummary">
                ğŸ“ RÃ©sumÃ© complet
              </option>
              <option value="key_points" data-i18n="analysisTypeKeyPoints">
                ğŸ¯ Points clÃ©s
              </option>
              <option value="analysis" data-i18n="analysisTypeAnalysis">
                ğŸ” Analyse dÃ©taillÃ©e
              </option>
              <option value="questions" data-i18n="analysisTypeQuestions">
                â“ Questions/RÃ©ponses
              </option>
              <option value="translation" data-i18n="analysisTypeTranslation">
                ğŸŒ Traduction
              </option>
              <option value="explanation" data-i18n="analysisTypeExplanation">
                ğŸ’¡ Explication simple
              </option>
            </select>
            <div class="help-text" data-i18n="defaultAnalysisTypeHelp">
              Ce type d'analyse sera sÃ©lectionnÃ© automatiquement dans les popups
            </div>
          </div>
      </form>

      <!-- Section Configuration AvancÃ©e -->
      <div class="advanced-section" id="advancedSection">
        <button class="advanced-toggle" id="advancedToggle">
          <span><strong>âš™ï¸ Configuration avancÃ©e</strong></span>
          <span id="advancedArrow">â–¼</span>
        </button>
        <div class="advanced-content" id="advancedContent">
          <!-- Prompts systÃ¨me -->
          <div class="prompt-section">
            <h4>ğŸ“ Prompts par dÃ©faut</h4>
            <p class="help-text">
              Vous pouvez modifier ou supprimer individuellement chaque prompt par dÃ©faut
            </p>

            <!-- Prompt RÃ©sumÃ© -->
            <div class="form-group">
              <label for="promptSummary">ğŸ“ Prompt "RÃ©sumÃ© complet" :</label>
              <textarea id="promptSummary" rows="3">
Fais un rÃ©sumÃ© complet et structurÃ© de ce contenu. Utilise des titres et sous-titres en markdown.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="summary">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="summary">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>

            <!-- Prompt Points clÃ©s -->
            <div class="form-group">
              <label for="promptKeyPoints">ğŸ¯ Prompt "Points clÃ©s" :</label>
              <textarea id="promptKeyPoints" rows="3">
Extrais et liste les points clÃ©s de ce contenu sous forme de liste Ã  puces organisÃ©e.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="key_points">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="key_points">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>

            <!-- Prompt Analyse dÃ©taillÃ©e -->
            <div class="form-group">
              <label for="promptAnalysis"
                >ğŸ” Prompt "Analyse dÃ©taillÃ©e" :</label
              >
              <textarea id="promptAnalysis" rows="3">
Fais une analyse dÃ©taillÃ©e de ce contenu en expliquant les idÃ©es principales, les arguments, et les implications.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="analysis">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="analysis">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>

            <!-- Prompt Questions/RÃ©ponses -->
            <div class="form-group">
              <label for="promptQuestions"
                >â“ Prompt "Questions/RÃ©ponses" :</label
              >
              <textarea id="promptQuestions" rows="3">
GÃ©nÃ¨re une sÃ©rie de questions importantes avec leurs rÃ©ponses basÃ©es sur ce contenu.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="questions">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="questions">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>

            <!-- Prompt Traduction -->
            <div class="form-group">
              <label for="promptTranslation">ğŸŒ Prompt "Traduction" :</label>
              <textarea id="promptTranslation" rows="3">
Traduis ce contenu dans la langue de rÃ©ponse sÃ©lectionnÃ©e par l'utilisateur en gardant le sens et le contexte original.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="translation">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="translation">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>

            <!-- Prompt Explication simple -->
            <div class="form-group">
              <label for="promptExplanation"
                >ğŸ’¡ Prompt "Explication simple" :</label
              >
              <textarea id="promptExplanation" rows="3">
Explique ce contenu de maniÃ¨re simple et accessible, comme si tu t'adressais Ã  un dÃ©butant.</textarea>
              <div class="prompt-actions">
                <button type="button" class="warning-btn restore-prompt-btn" data-prompt-type="explanation">
                  ğŸ”„ Valeur par dÃ©faut
                </button>
                <button type="button" class="danger-btn delete-prompt-btn" data-prompt-type="explanation">
                  ğŸ—‘ï¸ Supprimer
                </button>
              </div>
            </div>
          </div>

          <!-- Prompts personnalisÃ©s -->
          <div class="prompt-section">
            <h4>ğŸ¨ Vos prompts personnalisÃ©s</h4>

            <div id="customPromptsList">
              <!-- Les prompts personnalisÃ©s seront ajoutÃ©s ici dynamiquement -->
            </div>

            <div class="add-prompt-section">
              <h4>â• Ajouter un nouveau prompt</h4>
              <div class="new-prompt-form">
                <div class="form-row">
                  <div class="form-group">
                    <label for="newPromptTitle">Titre du prompt :</label>
                    <input
                      type="text"
                      id="newPromptTitle"
                      placeholder="Titre du prompt"
                    />
                  </div>
                  <button type="button" id="addPromptBtn" class="success-btn">
                    â• Ajouter
                  </button>
                </div>
                <div class="form-group">
                  <label for="newPromptContent">Contenu du prompt :</label>
                  <textarea
                    id="newPromptContent"
                    placeholder="DÃ©crivez comment vous voulez que le contenu soit analysÃ©..."
                    rows="4"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <!-- Mode debug -->
          <div class="prompt-section">
            <h4>ğŸ› Debug</h4>
            <div class="form-group">
              <label>
                <input type="checkbox" id="debugModeCheckbox" />
                <span data-i18n="debugModeVerbose">Mode debug verbeux</span>
              </label>
              <div class="help-text" data-i18n="debugModeHelp">
                Active les logs dÃ©taillÃ©s dans la console Firefox pour le debug et le dÃ©veloppement
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Boutons principaux en bas -->
      <div class="button-group">
        <button type="submit" form="optionsForm" data-i18n="saveSettings">
          ğŸ’¾ Sauvegarder
        </button>
        <button
          type="button"
          id="clearDataBtn"
          class="danger-btn"
          data-i18n="clearData"
        >
          ğŸ—‘ï¸ Effacer les donnÃ©es
        </button>
      </div>
      <div id="message"></div>

      <div class="footer">
        <strong class="extension-version" data-i18n="universalExtensionVersion"
          >AnthropoÃ¯d v1.0</strong
        ><br />
        <span data-i18n="credits">Made with ğŸ‘† by theguruofhydra</span>
        <br />
        <a
          href="https://opensource.org/licenses/MIT"
          target="_blank"
          rel="noopener"
          >Licence MIT</a
        >
        - Libre et open source
        <br />
        <a
          href="https://ko-fi.com/theguruofhydra"
          target="_blank"
          class="ko-fi-link"
        >
          â˜• Soutenir le dÃ©veloppement
        </a>
      </div>

    <script src="logger.js"></script>
    <script src="version-manager.js"></script>
    <script src="theme-manager.js"></script>
    <script src="model-manager.js"></script>
    <script src="options.js"></script>
  </body>
</html>